@model Systemize.Models.Workflow

@{
	ViewData["Title"] = "Render";
    bool readonlyform = false;


}



<script src="~/lib/jquery/dist/jquery.min.js" type="text/javascript"></script>
<script src="~/lib/formbuilder/form-render.min.js" type="text/javascript"></script>


<div id="fb-editor"></div>

@if (!readonlyform)
{
    <div id="fb-save-area">
        <button id="fb-save" type="button" class="btn btn-primary">Save</button>
    </div>
}




<script>
   

  

    const getUserDataBtn = document.getElementById("fb-save");



    jQuery(function($) {
          $(document.getElementById('fb-editor')).formRender({
      dataType: 'json',
      // onload data
      formData: '[{"type":"header","subtype":"h1","label":"Header","access":false},{"type":"text","required":false,"label":"Text Field","className":"form-control","name":"text-1743617177311-0","access":false,"subtype":"text"},{"type":"textarea","required":false,"label":"Text Area","className":"form-control","name":"textarea-1743617178798-0", "value": "test" , "access":false,"subtype":"textarea"}]'
    });


    // save data
        getUserDataBtn.addEventListener(
      "click",
      () => {
        window.alert(window.JSON.stringify($('fb-editor').formRender("userData")));
      },
      false
    );



    })


</script>


@if (readonlyform)
{
    <script>
         jQuery(function($) {
               $("#fb-editor :input").attr('readonly', 'readonly');
               $("#fb-editor :input").attr("disabled", true);
               $("#fb-editor :input").prop('readonly', 'readonly');
               $("#fb-editor :input").prop("disabled", true);
            })
    </script>
}




<div>
    <a asp-action="Details" asp-route-id="@Model.Id" class="float-end mx-2">Back to Workflow</a>
</div>
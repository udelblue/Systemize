@model Systemize.Models.WorkflowTemplate

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>WorkflowTemplate</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Name)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Description)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Description)
        </dd>
    </dl>
</div>





<div>
    <h4>Stages</h4>
    <div>
        <a asp-action="StageAdd" asp-route-id="@Model?.Id">Add a Stage</a> 

    </div>
    <hr />

    @if (Model.Stages != null)
    {

        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => Model.Stages[0].Name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => Model.Stages[0].Description)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => Model.Stages[0].StageType)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => Model.Stages[0].StageStatus)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => Model.Stages[0].AssignedTo)
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>

                @foreach (var item in Model.Stages)
                {

                    <tr class="">
                        <td>
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.StageType)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.StageStatus)
                        </td>
                        <td>
                            @if (item.AssignedTo != null)
                            {
                                @foreach (var assigned in item.AssignedTo)
                                {
                                    <span class="pr-3 "> @assigned </span>
                                   
                                }
                            }
                        </td>
            <td>
             
            </td>
        </tr>
                }
      
     </tbody>
</table>
       
    }
</div>



<div>
    <a asp-action="Index">Back to List</a>
</div>